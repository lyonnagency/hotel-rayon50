/**handles:ajax-login-register-login-script**/
$document.ready(function(e){$document.on("submit",".login_form",function(t){t.preventDefault();var i=e(this),a=zMAjaxLoginRegister.recaptcha_check_login(i),n=i.serialize(),o='input[type="password"], input[type="text"], input[type="email"], input[type="checkbox"], input[type="submit"]',l={action:"login_submit",security:i.data("zm_alr_login_security")};i.find(o).attr("disabled","disabled"),e.ajax({global:!1,data:"action=login_submit&"+n+"&security="+i.data("zm_alr_login_security")+"&"+a,type:"POST",url:_zm_alr_settings.ajaxurl,success:function(e){ajax_login_register_show_message(i,e),i.find(o).removeAttr("disabled"),zMAjaxLoginRegister.reload(e.redirect_url)}})}),$document.on("click",".fb-login",function(t){t.preventDefault();var i=e(this),a=i.parents("form");FB.login(function(t){var n=["public_profile","email","contact_email"],o=e.map(t.authResponse.grantedScopes.split(","),e.trim),l=e(n).not(o).get(),r=l.length;r?console.log("User canceled login or did not fully authorize."):FB.api("/me",function(t){var n=t;e.ajax({data:{action:"facebook_login",fb_response:n,security:i.data("zm_alr_facebook_security")},global:!1,type:"POST",url:_zm_alr_settings.ajaxurl,success:function(e){ajax_login_register_show_message(a,e),zMAjaxLoginRegister.reload(e.redirect_url)}})})},{scope:"email",return_scopes:!0})}),_zm_alr_settings.login_handle.length&&(e("body.logged-in").length?($this=e(_zm_alr_settings.login_handle).children("a"),$this.html(_zm_alr_settings.logout_text),$this.attr("href",_zm_alr_settings.wp_logout_url)):$document.on("click",_zm_alr_settings.login_handle,function(e){e.preventDefault(),zMAjaxLoginRegister.open_login(),"zm_alr_misc_pre_load_no"===_zm_alr_settings.pre_load_forms&&zMAjaxLoginRegister.load_login()})),$document.on("click",".not-a-member-handle",function(t){t.preventDefault(),e("#ajax-login-register-login-dialog").dialog("close"),zMAjaxLoginRegister.open_register(),"zm_alr_misc_pre_load_no"===_zm_alr_settings.pre_load_forms&&zMAjaxLoginRegister.load_register()})});